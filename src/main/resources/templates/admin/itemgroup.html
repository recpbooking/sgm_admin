<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Gentelella Alela! | </title>

    <!-- START HEADER -->
    <!--/*/ <th:block th:include="fragments/resourcesheader :: resourcesheader"></th:block> /*/-->
    <!-- END HEADER -->
    <link href="../vendors/chosen/css/chosen.css" th:href="@{/vendors/chosen/css/chosen.css}" rel="stylesheet">




</head>

<body class="nav-md">


<div class="container body">
    <div class="main_container">
        <!-- START HEADER -->
        <!--/*/ <th:block th:include="fragments/pageheader :: header"></th:block> /*/-->
        <!-- END HEADER -->

        <!-- page content -->
        <div class="right_col" role="main" style="height: 600px;">
            <!-- START HEADER -->
            <!--/*/ <th:block th:include="fragments/pagemessage :: pagemessage"></th:block> /*/-->
            <!-- END HEADER -->
            <div class="page-title">
                <div class="title_left">
                    <h3>Item</h3>
                </div>


            </div>
            <form id="frmMain" name="frmMain" th:object="${itemGroupDto}" method="post">
                <input type="hidden" th:id="id" th:name="id" th:field="*{id}" th:if="${itemGroupDto.id >0}">
                <div class="row">
                    <div class="form-group col-md-12">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="shortCode">Short Code <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" id="shortCode" name="shortCode" th:field='*{shortCode}'
                                   class="form-control col-md-7 col-xs-12">
                        </div>
                    </div>
                    <div class="form-group col-md-12">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="name">Name <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" id="name" name="name" th:field='*{name}'
                                   class="form-control col-md-7 col-xs-12">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="description">Description <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" id="description" name="description" th:field=*{description}
                                   class="form-control col-md-7 col-xs-12">
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="form-group col-md-12">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="price">Price <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" id="price" name="price" th:field="*{price}" class="form-control col-md-7 col-xs-12">
                        </div>
                    </div>
                    <div class="form-group col-md-12">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="price">Catagory <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <select id="categoryId" name="categoryId" th:field="*{category}" class="form-control">
                                <option th:each="categ : ${categoryList}"
                                        th:value="${categ.id}"
                                        th:text="${categ.name}"></option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group col-md-12">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="price">Item List <span
                                class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <select id="itemIds" name="itemIds"
                                    th:field="*{items}"
                                    class="form-control" multiple="true">
                                <option th:each="agent : ${itemList}"
                                        th:value="${agent.id}"
                                        th:text="${agent.shortCode} +' - '+ ${agent.name}"></option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
                            <button class="btn btn-primary" type="button">Cancel</button>
                            <th:block th:if="${itemGroupDto.id > 0}">
                                <button type="submit" value="Insert" class="btn btn-success">Update</button>
                            </th:block>

                            <th:block th:if="${itemGroupDto.id ==  0 }">
                                <button type="submit" value="Insert" class="btn btn-success">Save</button>
                            </th:block>

                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!-- /page content -->

        <!-- footer content -->
        <!-- START HEADER -->
        <!--/*/ <th:block th:include="fragments/pagefooter :: footer"></th:block> /*/-->
        <!-- END HEADER -->
        <!-- /footer content -->
    </div>
</div>

<!-- START HEADER -->
<!--/*/ <th:block th:include="fragments/resourcesfooter :: resourcesfooter"></th:block> /*/-->
<!-- END HEADER -->

<script src="../vendors/chosen/js/chosen.jquery.js" th:src="@{/vendors/chosen/js/chosen.jquery.js}"></script>


<script type="text/javascript">
    $(document).ready(function () {

    $("#itemIds").chosen({
        no_results_text: "No results found!",
        width: "100%"
    }).on('change', function (evt, params) {

    });

    });


    $("button[type=submit]").on("click", function (e) {
        var val = $(this).val();

        $("#frmMain").submit(function (event) {

            var action = "";
            if (val === "Insert") {
                action = CONTEXT_PATH + "/itemGroupController/saveItem";
                $("#frmMain").attr('action', action);

            } else if (val === "Update") {
                action = CONTEXT_PATH + "/user/update";
                $("#userDTO").attr('action', action);
            }


        });


    });


</script>


</body>
</html>
